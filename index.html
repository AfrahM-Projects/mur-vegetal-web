<!DOCTYPE html> 
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Mur V√©g√©tal Intelligent</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #e0f2f1, #a5d6a7);
      text-align: center;
      padding: 30px;
      color: #2e7d32;
    }
    img {
      max-width: 250px;
      border-radius: 15px;
      margin-bottom: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    h1 {
      font-weight: 700;
      margin-bottom: 30px;
      font-size: 2.5rem;
    }
    .data {
      font-size: 1.8rem;
      margin: 15px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    .data span.value {
      font-weight: 700;
    }
    .icon {
      width: 30px;
      height: 30px;
      filter: invert(34%) sepia(44%) saturate(537%) hue-rotate(75deg) brightness(90%) contrast(89%);
    }
    button {
      background-color: #388e3c;
      color: white;
      font-size: 1.2rem;
      padding: 12px 30px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 30px;
      transition: background-color 0.3s ease;
      box-shadow: 0 3px 6px rgba(0,0,0,0.2);
    }
    button:hover {
      background-color: #2e7d32;
    }
    /* Couleurs dynamiques pour humidit√© */
    .humidite.high { color: #2e7d32; } /* vert */
    .humidite.low { color: #d32f2f; }  /* rouge */
  </style>
</head>
<body>
  <!-- Photo √† mettre dans /images/plant.jpg -->
  <img src="images/plant.jpg" alt="Mur V√©g√©tal Intelligent">

  <h1>üåø Mur V√©g√©tal Intelligent</h1>

  <div class="data humidite">
    <img class="icon" src="https://img.icons8.com/ios-filled/50/000000/water.png" alt="Humidit√©" />
    <div>Humidit√© : <span id="humidite" class="value">...</span> %</div>
  </div>

  <div class="data">
    <img class="icon" src="https://img.icons8.com/ios-filled/50/000000/sun--v1.png" alt="Luminosit√©" />
    <div>Luminosit√© : <span id="luminosite" class="value">...</span> lux</div>
  </div>

  <div class="data">
    <img class="icon" src="https://img.icons8.com/ios-filled/50/000000/air.png" alt="Qualit√© de l'air" />
    <div>Qualit√© de l'air : <span id="air" class="value">...</span></div>
  </div>

  <button onclick="chargerDonnees()">Rafra√Æchir</button>

  <script>
    function chargerDonnees() {
      console.log("üîÅ Rafra√Æchissement en cours...");
      const url = "data.json?t=" + new Date().getTime();

      fetch(url)
        .then(response => response.json())
        .then(data => {
          document.getElementById("humidite").textContent = data.humidite;
          document.getElementById("luminosite").textContent = data.luminosite;
          document.getElementById("air").textContent = data.air;

          // Couleur dynamique humidit√©
          const humiditeDiv = document.querySelector('.humidite');
          if(data.humidite >= 50) {
            humiditeDiv.classList.add('high');
            humiditeDiv.classList.remove('low');
          } else {
            humiditeDiv.classList.add('low');
            humiditeDiv.classList.remove('high');
          }

          console.log("‚úÖ Donn√©es mises √† jour");
        })
        .catch(error => {
          console.error("‚ùå Erreur JSON :", error);
          alert("Erreur lors du chargement des donn√©es.");
        });
    }
    window.onload = chargerDonnees;
  </script>
</body>
</html>
